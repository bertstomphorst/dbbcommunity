<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- External e-mails (to external contacts), -->
    <template id="mail_notification_layout_custom" inherit_id="mail.mail_notification_layout" name="Mail: mail notification layout template - DBB" priority="99">
        <!-- Logo max-width and max-height -->
        <xpath expr="//html/body/div/div[2]/table/tbody/tr/td/img" position="replace">
            <img t-att-src="'data:image/png;base64,%s' % company.logo_web.decode('utf-8')"
                 style="padding: 0px; margin: 0px; height: auto; max-width: 590px; min-height: 50px; max-height: 120px;"
                 t-att-alt="'%s' % company.name"/>
        </xpath>

        <!-- Verwijderen knop (bekijk factuur e.d.) + 'subtitles' (die geeft de 'recordnaam' weer, wat meestal niet zoveel toevoegt) -->
        <xpath expr="//html/body/div/div[2]/table/tbody/tr[3]/td/table" position="replace"/>

        <!-- Verwijderen van lijn boven 'subtitles' -->
        <xpath expr="//html/body/div/div[2]/table/tbody/tr[2]/td/hr" position="replace"/>

        <!-- Body zonder quote -->
        <xpath expr="//html/body/div/div[3]" position="replace">
            <div t-out="message.get_body_without_quote()" style="font-size: 13px;"/>
        </xpath>


        <!-- Handtekening van huidige gebruiker, staat al in sjabloon zodat het handmatig kan worden aangevuld/gewijzigd -->
        <xpath expr="//t[hasclass('o_signature')]" position="replace" />

        <!-- footer -->
        <xpath expr="//html/body/div/div[4]/p" position="replace">
            <t t-call="dbb_mail.mail_footer"/>

            <!-- quote original mail -->
            <div t-out="message.get_body_quote()" style="font-size: 13px;"/>
        </xpath>

        <!-- Remove Odoo-branding -->
        <xpath expr="//body/div/div[last()]" position="replace"/>
    </template>


    <template id="mail_notification_light_custom" inherit_id="mail.mail_notification_light" name="mail_notification_light - DBB">
        <!-- Logo max-width and max-height -->
        <xpath expr="//html/body/table/tr/td/table/tbody/tr/td/table/tr/td[2]/img" position="replace">
            <img t-att-src="'/logo.png?company=%s' % company.id"
                 style="padding: 0px; margin: 0px; height: auto; max-width: 590px; min-height: 50px; max-height: 120px;"
                 t-att-alt="'%s' % company.name"/>
        </xpath>

        <!-- footer -->
        <xpath expr="//html/body/table/tr/td/table/tbody/tr[3]/td/div" position="replace">
            <t t-call="dbb_mail.mail_footer"/>
        </xpath>

        <!-- Remove Odoo-branding -->
        <xpath expr="//html/body/table/tr[last()]" position="replace"/>
    </template>

    <template id="mail_footer" name="mail_footer DBB">
        <t t-set="company" t-value="company.with_context(lang=lang)"/>
        <t t-set="style_root" t-value="'color: #666666; font-size:11px;'"/>

        <!-- contact data -->
        <p t-att-style="style_root + 'margin-top:2px;'">
            <t t-out="company.street or (company.parent_id and company.parent_id.street)"/>,
            <t t-out="company.zip or (company.parent_id and company.parent_id.zip)"/> <t t-out="company.city or (company.parent_id and company.parent_id.city)"/><br/>

            <table style="border-collapse: collapse">
                <tr>
                    <td t-att-style="style_root">Telefoon</td>
                    <td t-att-style="style_root + 'margin-right: 2px;'">:</td>
                    <td t-att-style="style_root"><t t-out="company.phone or (company.parent_id and company.parent_id.phone)"/> <t t-out="company.x_dbb_telefoontijden or (company.parent_id and company.parent_id.x_dbb_telefoontijden)"/></td>
                </tr>
                <tr>
                    <td t-att-style="style_root">E-mail</td>
                    <td t-att-style="style_root + 'margin-right: 2px;'">:</td>
                    <td t-att-style="style_root"><a t-att-href="'mailto:' + (company.email or (company.parent_id and company.parent_id.email) or '')"><t t-out="company.email or (company.parent_id and company.parent_id.email)"/></a></td>
                </tr>
<!--                <tr>-->
<!--                    <td t-att-style="style_root">Internet</td>-->
<!--                    <td t-att-style="style_root + 'margin-right: 2px;'">:</td>-->
<!--                    <td t-att-style="style_root"><a t-att-href="company.website or (company.parent_id and company.parent_id.website)"><t t-out="company.website or (company.parent_id and company.parent_id.website)"/></a></td>-->
<!--                </tr>-->
<!--                <tr>-->
<!--                    <td t-att-style="style_root + 'vertical-align:top;'">Openingstijden</td>-->
<!--                    <td t-att-style="style_root + 'vertical-align:top;margin-right: 2px;'">:</td>-->
<!--                    <td t-att-style="style_root + 'vertical-align:top;'">-->
<!--                        <t t-raw="(company.x_dbb_openingstijden or (company.parent_id and company.parent_id.x_dbb_openingstijden)).replace('\n', '&lt;br/&gt;')"/>-->
<!--                    </td>-->
<!--                </tr>-->
            </table>
        </p>

        <!-- disclaimer -->
        <p style="margin-top: 12px; color: #999999; font-size: 10px;">
            <t>Disclaimer</t><br/>
            <t>Wij sluiten hierbij elke aansprakelijkheid uit in verband met het niet juist, onvolledig of niet tijdig overkomen van de informatie in deze e-mail.
                Aan dit bericht kunnen geen rechten worden ontleend. </t>
            <t>Dit bericht is alleen bestemd voor de geadresseerden c.q. degene die in de aanhef wordt genoemd. Indien dit bericht niet voor u bestemd is,
                verzoeken wij u dit onmiddellijk aan ons te melden en de inhoud van het bericht te vernietigen.</t>
        </p>
    </template>
</odoo>
